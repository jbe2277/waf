name: NewsReader.CI

on: 
  push:
    paths: 
      - 'src/NewsReader/**'
      - '.github/workflows/**' 

jobs:
  Android-UWP:
    runs-on: windows-2022
    steps:
    - uses: actions/checkout@v1
    - name: Build Android
      run: |
        $Env:MSBUILD_PATH="C:\Program Files\Microsoft Visual Studio\2022\Enterprise\MSBuild\Current\Bin\msbuild.exe"
        & $Env:MSBUILD_PATH ./src/NewsReader/NewsReader.sln -p:Configuration=Release -p:Platform="Any CPU" -m /restore
    - name: Build UWP
      run: |
        $Env:MSBUILD_PATH="C:\Program Files\Microsoft Visual Studio\2022\Enterprise\MSBuild\Current\Bin\msbuild.exe"
        & $Env:MSBUILD_PATH ./src/NewsReader/NewsReader.UWP/NewsReader.UWP.csproj -p:Configuration=Debug -p:Platform="x86" -m /restore

  iOS:
    runs-on: macos-latest
    steps:
      - uses: actions/checkout@v1
      - name: iOS
        run: msbuild ./src/NewsReader/NewsReader.iOS/NewsReader.iOS.csproj -p:Configuration=Debug -p:Platform="iPhoneSimulator" /restore
